<div class="card">
    <div class="flex justify-content-between align-items-center mb-3">
      <h2>Product Management</h2>
      <button 
        pButton 
        label="New Product" 
        icon="pi pi-plus" 
        (click)="openNew()"
      ></button>
    </div>
  
    <p-table [value]="products" responsiveLayout="scroll">
      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Price</th>
          <th>Stock</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product>
        <tr>
          <td>{{product.name}}</td>
          <td>{{product.description}}</td>
          <td>{{product.price | currency}}</td>
          <td>{{product.stock}}</td>
          <td>
            <button 
              pButton 
              icon="pi pi-pencil" 
              class="p-button-rounded p-button-success mr-2" 
              (click)="editProduct(product)"
            ></button>
            <button 
              pButton 
              icon="pi pi-trash" 
              class="p-button-rounded p-button-danger" 
              (click)="deleteProduct(product)"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  
    <p-dialog 
      [(visible)]="productDialog" 
      [style]="{width: '450px'}" 
      header="Product Details" 
      [modal]="true"
    >
      <ng-template pTemplate="content">
        <div class="p-fluid">
          <div class="p-field">
            <label for="name">Name</label>
            <input 
              pInputText 
              id="name" 
              [(ngModel)]="selectedProduct.name" 
              required
            />
          </div>
          <div class="p-field">
            <label for="description">Description</label>
            <textarea 
              pInputText 
              id="description" 
              [(ngModel)]="selectedProduct.description"
            ></textarea>
          </div>
          <div class="p-field">
            <label for="price">Price</label>
            <input 
              pInputText 
              id="price" 
              [(ngModel)]="selectedProduct.price" 
              type="number"
            />
          </div>
          <div class="p-field">
            <label for="stock">Stock</label>
            <input 
              pInputText 
              id="stock" 
              [(ngModel)]="selectedProduct.stock" 
              type="number"
            />
          </div>
        </div>
      </ng-template>
  
      <ng-template pTemplate="footer">
        <button 
          pButton 
          label="Cancel" 
          icon="pi pi-times" 
          class="p-button-text" 
          (click)="productDialog = false"
        ></button>
        <button 
          pButton 
          label="Save" 
          icon="pi pi-check" 
          class="p-button-text" 
          (click)="saveProduct()"
        ></button>
      </ng-template>
    </p-dialog>
  </div>